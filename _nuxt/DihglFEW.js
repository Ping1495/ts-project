import{a as f,c as l,o as x,f as d,g as u,h as e,A as h,B as y,C as s,D as w,t as r,j as _}from"./Cq7wawvv.js";const v={class:"flex flex-col items-center"},b={key:0},g={class:"flex flex-col justify-center items-center"},k={class:"text-4xl font-semibold pt-6"},D={class:"text-9xl"},B={class:"text-2xl font-semibold pt-2"},j=f({__name:"weather",setup(C){const a=l("Bangkok"),n=l(null),m=l(null),i=l(""),c=async()=>{try{const o=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${a.value}&units=metric&lang=en&appid=06720c1269fc4979c1f0043411535b92`);if(!o.ok)throw new Error("ไม่สามารถดึงข้อมูลสภาพอากาศได้");const t=await o.json();n.value=t,i.value=new Date().toLocaleString("en-GB",{weekday:"long",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(o){m.value=o instanceof Error?o.message:"เกิดข้อผิดพลาด"}};return x(()=>{c()}),(o,t)=>(d(),u("div",null,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold underline flex flex-col items-center mt-10 mb-10"}," Weather Now ",-1)),e("div",v,[e("div",null,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>w(a)?a.value=p:null),type:"text",class:"border border-black rounded-md py-1 px-2 w-[300px]",placeholder:"your city"},null,512),[[y,s(a)]]),e("button",{class:"bg-black text-white py-1 px-2 rounded-lg ml-4",onClick:c}," search ")]),s(n)?(d(),u("div",b,[e("div",g,[e("p",k,r(s(n).name)+", "+r(s(n).sys.country),1),e("h1",D,r(Number(s(n).main.temp).toFixed(0))+" °C ",1),e("p",B,r(s(i)),1)]),t[1]||(t[1]=e("div",null,null,-1))])):_("",!0)])]))}});export{j as default};
